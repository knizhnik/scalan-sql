<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Flint: Buffer Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Flint
   &#160;<span id="projectnumber">0.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Buffer Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cluster_8h_source.html">cluster.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3d8ec0287a5b4c2e568a93e6aa80ec43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#a3d8ec0287a5b4c2e568a93e6aa80ec43">Buffer</a> (MessageKind type, qid_t id, size_t len=0)</td></tr>
<tr class="separator:a3d8ec0287a5b4c2e568a93e6aa80ec43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d39d0c9b2bfe98ea487de55e4cdcee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9d39d0c9b2bfe98ea487de55e4cdcee"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t hdrSize, size_t bufSize)</td></tr>
<tr class="separator:af9d39d0c9b2bfe98ea487de55e4cdcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245035f14a0f17b0b8bb291330618f17"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a245035f14a0f17b0b8bb291330618f17"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, size_t size)</td></tr>
<tr class="separator:a245035f14a0f17b0b8bb291330618f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad954ea2970e67d9303f21dcbe8fff4ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad954ea2970e67d9303f21dcbe8fff4ea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr)</td></tr>
<tr class="separator:ad954ea2970e67d9303f21dcbe8fff4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cccbe0bb0c80694d0f39b6881d6ce2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#a16cccbe0bb0c80694d0f39b6881d6ce2">release</a> ()</td></tr>
<tr class="separator:a16cccbe0bb0c80694d0f39b6881d6ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4b5fc334c9b0b2f38f8d25121918e051"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#a4b5fc334c9b0b2f38f8d25121918e051">create</a> (qid_t qid, size_t size, MessageKind type=MSG_DATA)</td></tr>
<tr class="separator:a4b5fc334c9b0b2f38f8d25121918e051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab443033f584fa7360e1c79bc693e72e0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#ab443033f584fa7360e1c79bc693e72e0">eof</a> (qid_t qid)</td></tr>
<tr class="separator:ab443033f584fa7360e1c79bc693e72e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb74d93eff5a25da4f207c363bfa312"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#a5eb74d93eff5a25da4f207c363bfa312">barrier</a> (qid_t qid)</td></tr>
<tr class="separator:a5eb74d93eff5a25da4f207c363bfa312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365225e4d0bd00fd48fdc8da7c01cc7c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBuffer.html#a365225e4d0bd00fd48fdc8da7c01cc7c">ping</a> (qid_t qid)</td></tr>
<tr class="separator:a365225e4d0bd00fd48fdc8da7c01cc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9f1d0f0f754078e43fce930df72ffd98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f1d0f0f754078e43fce930df72ffd98"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>compressedSize</b></td></tr>
<tr class="separator:a9f1d0f0f754078e43fce930df72ffd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18a1a43b4a45ee253e006443ccf2cb7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af18a1a43b4a45ee253e006443ccf2cb7"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>size</b></td></tr>
<tr class="separator:af18a1a43b4a45ee253e006443ccf2cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5b35c9b1cb69f881a259d426e70609"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b5b35c9b1cb69f881a259d426e70609"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>node</b></td></tr>
<tr class="separator:a9b5b35c9b1cb69f881a259d426e70609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4112fa4ab227344f023f7ace32eecf46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4112fa4ab227344f023f7ace32eecf46"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>qid</b></td></tr>
<tr class="separator:a4112fa4ab227344f023f7ace32eecf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f89a5f6822c56917428f7f60f78c81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74f89a5f6822c56917428f7f60f78c81"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>kind</b></td></tr>
<tr class="separator:a74f89a5f6822c56917428f7f60f78c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc303ee08cf4a40c3db797c30f1ebec4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc303ee08cf4a40c3db797c30f1ebec4"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>refCount</b></td></tr>
<tr class="separator:adc303ee08cf4a40c3db797c30f1ebec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56094f53bf11ac256ba591e12fca30f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56094f53bf11ac256ba591e12fca30f4"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>data</b> [1]</td></tr>
<tr class="separator:a56094f53bf11ac256ba591e12fca30f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structBuffer.html">Buffer</a> is the main unit of echanging data between node in Flint. Although <a class="el" href="classRDD.html">RDD</a> is processning and traversing individual records, when data needs to be sent through network, records are packed into buffer and buffer is delivier to the destination node. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3d8ec0287a5b4c2e568a93e6aa80ec43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Buffer::Buffer </td>
          <td>(</td>
          <td class="paramtype">MessageKind&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qid_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structBuffer.html">Buffer</a> constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>message type </td></tr>
    <tr><td class="paramname">id</td><td>queue ID (needed to locate recipient queue at target node) </td></tr>
    <tr><td class="paramname">len</td><td>buffer data size (not including header) </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="structBuffer.html#a4b5fc334c9b0b2f38f8d25121918e051">create()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5eb74d93eff5a25da4f207c363bfa312"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structBuffer.html">Buffer</a>* Buffer::barrier </td>
          <td>(</td>
          <td class="paramtype">qid_t&#160;</td>
          <td class="paramname"><em>qid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create buffer with barries message </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qid</td><td>queue ID (needed to locate recipient queue at target node) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new barrier message </dd></dl>

<p>References <a class="el" href="structBuffer.html#a4b5fc334c9b0b2f38f8d25121918e051">create()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b5fc334c9b0b2f38f8d25121918e051"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structBuffer.html">Buffer</a>* Buffer::create </td>
          <td>(</td>
          <td class="paramtype">qid_t&#160;</td>
          <td class="paramname"><em>qid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageKind&#160;</td>
          <td class="paramname"><em>type</em> = <code>MSG_DATA</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create new buffer of specified kind and size </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qid</td><td>queue ID (needed to locate recipient queue at target node) </td></tr>
    <tr><td class="paramname">size</td><td>buffer data size (not including header) </td></tr>
    <tr><td class="paramname">type</td><td>message type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>created buffer </dd></dl>

<p>References <a class="el" href="structBuffer.html#a3d8ec0287a5b4c2e568a93e6aa80ec43">Buffer()</a>.</p>

<p>Referenced by <a class="el" href="structBuffer.html#a5eb74d93eff5a25da4f207c363bfa312">barrier()</a>, <a class="el" href="structBuffer.html#ab443033f584fa7360e1c79bc693e72e0">eof()</a>, and <a class="el" href="structBuffer.html#a365225e4d0bd00fd48fdc8da7c01cc7c">ping()</a>.</p>

</div>
</div>
<a class="anchor" id="ab443033f584fa7360e1c79bc693e72e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structBuffer.html">Buffer</a>* Buffer::eof </td>
          <td>(</td>
          <td class="paramtype">qid_t&#160;</td>
          <td class="paramname"><em>qid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create buffer with EOF (End-Of-File) message </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qid</td><td>queue ID (needed to locate recipient queue at target node) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new EOF message </dd></dl>

<p>References <a class="el" href="structBuffer.html#a4b5fc334c9b0b2f38f8d25121918e051">create()</a>.</p>

</div>
</div>
<a class="anchor" id="a365225e4d0bd00fd48fdc8da7c01cc7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structBuffer.html">Buffer</a>* Buffer::ping </td>
          <td>(</td>
          <td class="paramtype">qid_t&#160;</td>
          <td class="paramname"><em>qid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create buffer with ping message. Ping messages are used to synchronize data consumers and produces and so avoid queueus overflow </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qid</td><td>queue ID (needed to locate recipient queue at target node) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new ping message </dd></dl>

<p>References <a class="el" href="structBuffer.html#a4b5fc334c9b0b2f38f8d25121918e051">create()</a>.</p>

</div>
</div>
<a class="anchor" id="a16cccbe0bb0c80694d0f39b6881d6ce2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Buffer::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Release buffer. Flint associates reference counter with each buffer to impkement shared pointers to the buffers. This method allows to delete buffer when it is not needed to anybody (there are no more references to the buffer). </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="cluster_8h_source.html">cluster.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
